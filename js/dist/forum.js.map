{"version":3,"file":"forum.js","sources":["../src/forum/components/LoanApplicationForm.tsx","../src/forum/components/ApprovedApplicationsList.tsx","../src/forum/components/LoanApplicationPage.tsx","../src/common/models/LoanPlatform.ts","../src/common/models/LoanApplication.ts","../src/common/models/LoanVirtualApproval.ts","../src/forum/index.ts"],"sourcesContent":["// js/src/forum/components/LoanApplicationForm.tsx\nimport Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport Select from 'flarum/common/components/Select';\nimport Stream from 'flarum/common/utils/Stream';\nimport {Vnode} from 'mithril';\nimport LoanPlatform from '../../common/models/LoanPlatform';\n\ntype LoanApplicationFormAttrs = {\n  platforms: LoanPlatform[];\n  onSubmit: (payload: { platform_id: string; sponsor_account?: string; applicant_account?: string }) => Promise<void> | void;\n};\n\nexport default class LoanApplicationForm extends Component<LoanApplicationFormAttrs> {\n  private platformId: any;\n  private sponsorAccount: any;\n  private applicantAccount: any;\n  private loading: boolean = false;\n\n  oninit(vnode: Vnode) {\n    super.oninit(vnode);\n\n    this.platformId = Stream('');\n    this.sponsorAccount = Stream('');\n    this.applicantAccount = Stream('');\n    this.loading = false;\n  }\n\n  view() {\n    const platforms = (this.attrs as LoanApplicationFormAttrs).platforms || [];\n    const selectedPlatform = platforms.find((p: LoanPlatform) => String(p.id()) === this.platformId());\n\n    return (\n      <div className=\"LoanApplicationForm\">\n        <div className=\"Form-group\">\n          <label>选择平台</label>\n          <Select\n            value={this.platformId()}\n            onchange={this.platformId}\n            options={platforms.reduce((options: Record<string, any>, platform: LoanPlatform) => {\n              options[String(platform.id())] = (\n                <div className=\"PlatformOption\">\n                  <img src={platform.logoUrl()} alt={platform.name()} />\n                  <span>{platform.name()}</span>\n                </div>\n              );\n              return options;\n            }, {})}\n          />\n        </div>\n\n        <div className=\"Form-group\">\n          <Button\n            className=\"Button\"\n            disabled={!selectedPlatform || !selectedPlatform.sponsorLinkUrl?.()}\n            onclick={this.openSponsorLink.bind(this)}\n          >\n            打开赞助平台链接\n          </Button>\n        </div>\n\n        <div className=\"Form-twoInputs\">\n          <div className=\"Form-group\">\n            <label>赞助平台账号</label>\n            <input\n              className=\"FormControl\"\n              value={this.sponsorAccount()}\n              oninput={(e: InputEvent) => this.sponsorAccount((e.target as HTMLInputElement).value)}\n              placeholder=\"例如：平台用户名/ID\"\n            />\n          </div>\n          <div className=\"Form-group\">\n            <label>申请账号</label>\n            <input\n              className=\"FormControl\"\n              value={this.applicantAccount()}\n              oninput={(e: InputEvent) => this.applicantAccount((e.target as HTMLInputElement).value)}\n              placeholder=\"例如：论坛或应用内账号\"\n            />\n          </div>\n        </div>\n\n        <Button\n          className=\"Button Button--primary\"\n          loading={this.loading}\n          disabled={!this.platformId() || !this.sponsorAccount() || !this.applicantAccount()}\n          onclick={this.submit.bind(this)}\n        >\n          提交申请\n        </Button>\n      </div>\n    );\n  }\n\n  async submit(): Promise<void> {\n    if (this.loading) return;\n\n    this.loading = true;\n\n    try {\n      await (this.attrs as LoanApplicationFormAttrs).onSubmit({\n        platform_id: this.platformId(),\n        sponsor_account: this.sponsorAccount(),\n        applicant_account: this.applicantAccount()\n      });\n\n      // 重置表单\n      this.platformId('');\n      this.sponsorAccount('');\n      this.applicantAccount('');\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  openSponsorLink() {\n    const platforms = (this.attrs as LoanApplicationFormAttrs).platforms || [];\n    const platform = platforms.find((p: LoanPlatform) => String(p.id()) === this.platformId());\n    const url = platform && platform.sponsorLinkUrl ? platform.sponsorLinkUrl() : null;\n    if (url) {\n      window.open(url, '_blank');\n    }\n  }\n}\n","// js/src/forum/components/ApprovedApplicationsList.tsx\nimport Component from 'flarum/common/Component';\nimport avatar from 'flarum/common/helpers/avatar';\nimport username from 'flarum/common/helpers/username';\nimport LoanApplication from '../../common/models/LoanApplication';\nimport LoanVirtualApproval from '../../common/models/LoanVirtualApproval';\n\ntype ApprovedApplicationsListAttrs = {\n  applications: LoanApplication[];\n  virtualApprovals: LoanVirtualApproval[];\n};\n\nexport default class ApprovedApplicationsList extends Component<ApprovedApplicationsListAttrs> {\n  private scrollTimer: number | undefined;\n\n  view() {\n    const { applications = [], virtualApprovals = [] } = this.attrs as ApprovedApplicationsListAttrs;\n\n    // 合并真实和虚拟数据\n    const allApprovals = [\n      ...applications.map((app: LoanApplication) => ({\n        type: 'real',\n        id: app.id(),\n        username: username((app.user() || null) as any),\n        avatar: avatar((app.user() || null) as any),\n        platform: app.platform() as any,\n        amount: app.approvedAmount()\n      })),\n      ...virtualApprovals.map((va: LoanVirtualApproval) => ({\n        type: 'virtual',\n        id: va.id(),\n        username: va.fakeUsername(),\n        avatar: <img src={va.fakeAvatarUrl()} className=\"Avatar\" />,\n        platform: va.platform(),\n        amount: va.amount()\n      }))\n    ];\n\n    // 随机排序\n    allApprovals.sort(() => Math.random() - 0.5);\n\n    return (\n      <div className=\"ApprovedApplicationsList Leaderboard\">\n        <div className=\"Leaderboard-header\">\n          <span className=\"col-rank\">段位</span>\n          <span className=\"col-user\">用户</span>\n          <span className=\"col-bet\">下注额</span>\n          <span className=\"col-reward\">奖励</span>\n        </div>\n        <div className=\"Leaderboard-body\" oncreate={this.startAutoScroll.bind(this)} onremove={this.stopAutoScroll.bind(this)}>\n          <div className=\"Leaderboard-scroll\">\n            {allApprovals.map((item, index) => this.renderRow(item, index))}\n            {allApprovals.map((item, index) => this.renderRow(item, index, true))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderRow(approval: any, index: number, clone: boolean = false) {\n    const rank = index + 1;\n    const reward = this.calculateReward(approval.amount);\n    const userName = typeof approval.username === 'string' ? approval.username : '';\n    return (\n      <div className={`LeaderRow${clone ? ' clone' : ''}`} key={`${approval.id}-${clone ? 'c' : 'o'}`}>\n        <div className=\"col-rank\">第{rank}名</div>\n        <div className=\"col-user\">\n          <span className=\"user-avatar\">{approval.avatar}</span>\n          <span className=\"user-name\">{userName || '隐藏'}</span>\n        </div>\n        <div className=\"col-bet\">\n          <span className=\"currency\">$</span>\n          <span className=\"value\">{this.formatAmount(approval.amount)}</span>\n        </div>\n        <div className=\"col-reward\">\n          <span className=\"btc\">฿</span>\n          <span className=\"value\">{this.formatAmount(reward, 2)}</span>\n        </div>\n      </div>\n    );\n  }\n\n  startAutoScroll(vnode: any) {\n    const container: HTMLElement = vnode.dom as HTMLElement;\n    const inner = container.querySelector('.Leaderboard-scroll') as HTMLElement;\n    if (!container || !inner) return;\n\n    let offset = 0;\n    const step = () => {\n      offset += 0.5; // speed\n      if (offset >= inner.scrollHeight / 2) {\n        offset = 0;\n      }\n      inner.style.transform = `translateY(-${offset}px)`;\n      this.scrollTimer = window.requestAnimationFrame(step) as any;\n    };\n    this.scrollTimer = window.requestAnimationFrame(step) as any;\n  }\n\n  stopAutoScroll() {\n    if (this.scrollTimer) cancelAnimationFrame(this.scrollTimer);\n  }\n\n  calculateReward(amount: number) {\n    // 简化：示例按金额的 0.2% 计算奖励\n    return Math.max(3500, Math.round(amount * 0.002));\n  }\n\n  formatAmount(num: number, fixed?: number) {\n    if (fixed !== undefined) return Number(num).toLocaleString(undefined, { minimumFractionDigits: fixed, maximumFractionDigits: fixed });\n    return Number(num).toLocaleString();\n  }\n}\n","import Component from 'flarum/common/Component';\nimport app from 'flarum/forum/app';\nimport Button from 'flarum/common/components/Button';\nimport Select from 'flarum/common/components/Select';\nimport Stream from 'flarum/common/utils/Stream';\nimport LoanApplicationForm from './LoanApplicationForm';\nimport ApprovedApplicationsList from './ApprovedApplicationsList';\nimport m,{Vnode} from 'mithril';\nimport LoanPlatform from '../../common/models/LoanPlatform';\nimport LoanApplication from '../../common/models/LoanApplication';\nimport LoanVirtualApproval from '../../common/models/LoanVirtualApproval';\n\nexport default class LoanApplicationPage extends Component {\n  private loading: boolean = false;\n  private platforms: LoanPlatform[] = [];\n  private approvedApplications: LoanApplication[] = [];\n  private virtualApprovals: LoanVirtualApproval[] = [];\n\n  oninit(vnode: Vnode) {\n    super.oninit(vnode);\n\n    this.loading = true;\n    this.platforms = [];\n    this.approvedApplications = [];\n    this.virtualApprovals = [];\n\n    this.loadData();\n  }\n\n  async loadData(): Promise<void> {\n    try {\n      this.platforms = await app.store.find('loan-platforms') as any;\n      this.approvedApplications = await app.store.find('loan-applications', { filter: { approved: '1' } } as any) as any;\n      this.virtualApprovals = await app.store.find('loan-virtual-approvals') as any;\n    } finally {\n      this.loading = false;\n      m.redraw();\n    }\n  }\n\n  view() {\n    if (this.loading) return <div className=\"LoanPage\">加载中...</div>;\n\n    return (\n      <div className=\"LoanPage\">\n        <h2>贷款申请</h2>\n        <LoanApplicationForm\n          platforms={this.platforms}\n          onSubmit={this.submitApplication.bind(this)}\n        />\n\n        <ApprovedApplicationsList\n          applications={this.approvedApplications}\n          virtualApprovals={this.virtualApprovals}\n        />\n      </div>\n    );\n  }\n\n  async submitApplication(payload: { platform_id: string; sponsor_account?: string; applicant_account?: string }): Promise<void> {\n    await app.request({\n      method: 'POST',\n      url: app.forum.attribute('apiUrl') + '/loan-applications',\n      body: { data: { attributes: payload } }\n    });\n\n    app.alerts.show({ type: 'success' }, '提交成功，等待审核');\n  }\n}\n","import Model from 'flarum/common/Model';\n\nexport default class LoanPlatform extends Model {\n  name = Model.attribute<string>('name');\n  logoUrl = Model.attribute<string>('logoUrl');\n  sponsorLinkUrl = Model.attribute<string>('sponsorLinkUrl');\n  sortOrder = Model.attribute<number>('sortOrder');\n}\n","import Model from 'flarum/common/Model';\nimport User from 'flarum/common/models/User';\nimport LoanPlatform from './LoanPlatform';\n\nexport default class LoanApplication extends Model {\n  sponsorAccount = Model.attribute<string>('sponsorAccount');\n  applicantAccount = Model.attribute<string>('applicantAccount');\n  status = Model.attribute<string>('status');\n  approvedAmount = Model.attribute<number>('approvedAmount');\n  createdAt = Model.attribute<Date>('createdAt');\n  reviewedAt = Model.attribute<Date>('reviewedAt');\n\n  user = Model.hasOne<User>('user');\n  platform = Model.hasOne<LoanPlatform>('platform');\n}\n","import Model from 'flarum/common/Model';\nimport LoanPlatform from './LoanPlatform';\n\nexport default class LoanVirtualApproval extends Model {\n  fakeUsername = Model.attribute<string>('fakeUsername');\n  fakeAvatarUrl = Model.attribute<string>('fakeAvatarUrl');\n  amount = Model.attribute<number>('amount');\n  platform = Model.hasOne<LoanPlatform>('platform');\n}\n","import app from 'flarum/forum/app';\nimport LoanApplicationPage from './components/LoanApplicationPage';\nimport LoanPlatform from '../common/models/LoanPlatform';\nimport LoanApplication from '../common/models/LoanApplication';\nimport LoanVirtualApproval from '../common/models/LoanVirtualApproval';\n\napp.initializers.add('wusong8899-loan', () => {\n  app.routes['wusong8899.loan'] = { path: '/loan', component: LoanApplicationPage } as any;\n  app.store.models['loan-platforms'] = LoanPlatform;\n  app.store.models['loan-applications'] = LoanApplication;\n  app.store.models['loan-virtual-approvals'] = LoanVirtualApproval;\n});\n"],"names":["LoanApplicationForm","Component","vnode","Stream","platforms","selectedPlatform","p","Select","options","platform","Button","e","url","ApprovedApplicationsList","applications","virtualApprovals","allApprovals","app","username","avatar","va","item","index","approval","clone","rank","reward","userName","container","inner","offset","step","amount","num","fixed","LoanApplicationPage","m","payload","LoanPlatform","Model","LoanApplication","LoanVirtualApproval"],"mappings":"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"}